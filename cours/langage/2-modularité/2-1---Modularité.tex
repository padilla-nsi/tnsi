\documentclass[a4paper,17pt]{extarticle}


    \usepackage[sfdefault, condensed]{roboto} % police d'écriture plus moderne
\usepackage[french]{babel} % francisation
\usepackage[parfill]{parskip} %suppression indentation

\usepackage{fancyhdr}
\usepackage{multicol}

% figure non flotantes
\usepackage{float}
\let\origfigure\figure
\let\endorigfigure\endfigure
\renewenvironment{figure}[1][2] {
    \expandafter\origfigure\expandafter[H]
} {
    \endorigfigure
}

% mois/année
\usepackage{datetime}
\newdateformat{monthyeardate}{%
  \monthname[\THEMONTH] \THEYEAR}

% couleurs perso
\usepackage[table]{xcolor}
\definecolor{deepblue}{rgb}{0.3,0.3,0.8}
\definecolor{darkblue}{rgb}{0,0,0.3}
\definecolor{deepred}{rgb}{0.6,0,0}
\definecolor{iremred}{RGB}{204,35,50}
\definecolor{deepgreen}{rgb}{0,0.6,0}
\definecolor{backcolor}{rgb}{0.98,0.95,0.95}
\definecolor{grisClair}{rgb}{0.95,0.95,0.95}
\definecolor{orangeamu}{RGB}{250,178,11}
\definecolor{noiramu}{RGB}{35,31,32}
\definecolor{bleuamu}{RGB}{20,118,198}
\definecolor{bleuamudark}{RGB}{15,90,150}
\definecolor{cyanamu}{RGB}{77,198,244}


\usepackage{/home/bouscadilla/Documents/Code/nbconvert/template/latex/pdf_solution/xeboiboites}
%
% exemple
\newbreakabletheorem[
    small box style={fill=deepblue!90,draw=deepblue!15, rounded corners,line width=1pt},%
    big box style={fill=deepblue!5,draw=deepblue!15,thick,rounded corners,line width=1pt},%
    headfont={\color{white}\bfseries}
        ]{exemple}{Exemple}{}%{counterCo}
%
% remarque
\newbreakabletheorem[
    small box style={draw=ansi-green-intense!100,line width=2pt,fill=ansi-green-intense!0,rounded corners,decoration=penciline, decorate},%
	big box style={color=ansi-green-intense!90,fill=ansi-green-intense!10,thick,decoration={penciline},decorate},
    broken edges={draw=ansi-green-intense!90,thick,fill=orange!20!black!5, decoration={random steps, segment length=.5cm,amplitude=1.3mm},decorate},%
    other edges={decoration=penciline,decorate,thick},%
    headfont={\color{ansi-green-intense}\large\scshape\bfseries}
    ]{remarque}{Remarque}{}%{counterCa}
%
% formule (sans titre)
\newboxedequation[%
    big box style={fill=cyanamu!10,draw=cyanamu!100,thick,decoration=penciline,decorate}]%
    {form}
%
% Réponse
\newbreakabletheorem[
    small box style={fill=bleuamu!100, draw=bleuamu!60, line width=1pt,rounded corners,decorate},%
    big box style={fill=bleuamu!10,draw=bleuamu!30,thick,rounded corners,decorate},
    headfont={\color{white}\large\scshape\bfseries}
        ]{reponse}{Correction}{}
%

%
% À retenir
%\newbreakabletheorem[
%    small box style={fill=deepred!100, draw=deepred!80, line width=1pt,rounded corners,decorate},%
%    big box style={fill=deepred!10,draw=deepred!50,thick,rounded corners,decorate},
%    headfont={\color{white}\large\scshape\bfseries}
%        ]{retenir}{À retenir}{}
%
\newboxedequation[%
    big box style={fill=deepred!10,draw=deepred!0,thick,decoration=penciline,decorate}]%
    {retenir}



% astuce
\newspanning[
    image=/home/bouscadilla/Documents/Code/nbconvert/template/latex/pdf_solution/fig-idee,headfont=\bfseries,
    spanning style={very thick,decoration=penciline,decorate}
    ]{astuce}{Astuce}{}
%
% activité
\newbreakabletheorem[
    small box style={draw=orangeamu!100,line width=2pt,fill=orangeamu!100,rounded corners,decoration=penciline, decorate},%
	big box style={color=orangeamu!100,fill=orangeamu!5,thick,decoration={penciline},decorate},
    broken edges={draw=orangeamu!100,thick,fill=orangeamu!100, decoration={random steps, segment length=.5cm,amplitude=1.3mm},decorate},%
    other edges={decoration=penciline,decorate,thick},%
    headfont={\color{white}\large\scshape\bfseries}
    ]{activite}{\adjustimage{height=1cm, valign=m}{/home/bouscadilla/Documents/Code/nbconvert/template/latex/pdf_solution/papier_eleve_investigation.png}%
    Activité}{}%{counterCa}
%   
%   environnement élève
%
\newenvironment{eleve}%
%{\begin{activite}\large\\} % écrire plus gros
{\begin{activite}\color{noiramu}\\[-0.5cm]}
{\end{activite}}

\newenvironment{formule}%
%{\begin{activite}\large\\} % écrire plus gros
{\begin{form}\color{bleuamu}}
{\end{form}}


\usepackage[breakable]{tcolorbox}
    \usepackage{parskip} % Stop auto-indenting (to mimic markdown behaviour)
    
    \usepackage{iftex}
    \ifPDFTeX
    	\usepackage[T1]{fontenc}
    	\usepackage{mathpazo}
    \else
    	\usepackage{fontspec}
    \fi

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % Maintain compatibility with old templates. Remove in nbconvert 6.0
    \let\Oldincludegraphics\includegraphics
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionFormat{nocaption}{}
    \captionsetup{format=nocaption,aboveskip=0pt,belowskip=0pt}

    \usepackage[Export]{adjustbox} % Used to constrain images to a maximum size
    \adjustboxset{max size={0.9\linewidth}{0.9\paperheight}}
    \usepackage{float}
    \floatplacement{figure}{H} % forces figures to be placed at the correct location
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage{fancyvrb} % verbatim replacement that allows latex

    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    % The default LaTeX title has an obnoxious amount of whitespace. By default,
    % titling removes some of it. It also provides customization options.
    \usepackage{titling}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    \usepackage{mathrsfs}
    

    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}
    \definecolor{ansi-default-inverse-fg}{HTML}{FFFFFF}
    \definecolor{ansi-default-inverse-bg}{HTML}{000000}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatibility definitions
    \def\gt{>}
    \def\lt{<}
    \let\Oldtex\TeX
    \let\Oldlatex\LaTeX
    \renewcommand{\TeX}{\textrm{\Oldtex}}
    \renewcommand{\LaTeX}{\textrm{\Oldlatex}}
    % Document parameters
    % Document title
    \title{2-1---Modularité}
    
    
    
    
    
% Pygments definitions
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % For linebreaks inside Verbatim environment from package fancyvrb. 
    \makeatletter
        \newbox\Wrappedcontinuationbox 
        \newbox\Wrappedvisiblespacebox 
        \newcommand*\Wrappedvisiblespace {\textcolor{red}{\textvisiblespace}} 
        \newcommand*\Wrappedcontinuationsymbol {\textcolor{red}{\llap{\tiny$\m@th\hookrightarrow$}}} 
        \newcommand*\Wrappedcontinuationindent {3ex } 
        \newcommand*\Wrappedafterbreak {\kern\Wrappedcontinuationindent\copy\Wrappedcontinuationbox} 
        % Take advantage of the already applied Pygments mark-up to insert 
        % potential linebreaks for TeX processing. 
        %        {, <, #, %, $, ' and ": go to next line. 
        %        _, }, ^, &, >, - and ~: stay at end of broken line. 
        % Use of \textquotesingle for straight quote. 
        \newcommand*\Wrappedbreaksatspecials {% 
            \def\PYGZus{\discretionary{\char`\_}{\Wrappedafterbreak}{\char`\_}}% 
            \def\PYGZob{\discretionary{}{\Wrappedafterbreak\char`\{}{\char`\{}}% 
            \def\PYGZcb{\discretionary{\char`\}}{\Wrappedafterbreak}{\char`\}}}% 
            \def\PYGZca{\discretionary{\char`\^}{\Wrappedafterbreak}{\char`\^}}% 
            \def\PYGZam{\discretionary{\char`\&}{\Wrappedafterbreak}{\char`\&}}% 
            \def\PYGZlt{\discretionary{}{\Wrappedafterbreak\char`\<}{\char`\<}}% 
            \def\PYGZgt{\discretionary{\char`\>}{\Wrappedafterbreak}{\char`\>}}% 
            \def\PYGZsh{\discretionary{}{\Wrappedafterbreak\char`\#}{\char`\#}}% 
            \def\PYGZpc{\discretionary{}{\Wrappedafterbreak\char`\%}{\char`\%}}% 
            \def\PYGZdl{\discretionary{}{\Wrappedafterbreak\char`\$}{\char`\$}}% 
            \def\PYGZhy{\discretionary{\char`\-}{\Wrappedafterbreak}{\char`\-}}% 
            \def\PYGZsq{\discretionary{}{\Wrappedafterbreak\textquotesingle}{\textquotesingle}}% 
            \def\PYGZdq{\discretionary{}{\Wrappedafterbreak\char`\"}{\char`\"}}% 
            \def\PYGZti{\discretionary{\char`\~}{\Wrappedafterbreak}{\char`\~}}% 
        } 
        % Some characters . , ; ? ! / are not pygmentized. 
        % This macro makes them "active" and they will insert potential linebreaks 
        \newcommand*\Wrappedbreaksatpunct {% 
            \lccode`\~`\.\lowercase{\def~}{\discretionary{\hbox{\char`\.}}{\Wrappedafterbreak}{\hbox{\char`\.}}}% 
            \lccode`\~`\,\lowercase{\def~}{\discretionary{\hbox{\char`\,}}{\Wrappedafterbreak}{\hbox{\char`\,}}}% 
            \lccode`\~`\;\lowercase{\def~}{\discretionary{\hbox{\char`\;}}{\Wrappedafterbreak}{\hbox{\char`\;}}}% 
            \lccode`\~`\:\lowercase{\def~}{\discretionary{\hbox{\char`\:}}{\Wrappedafterbreak}{\hbox{\char`\:}}}% 
            \lccode`\~`\?\lowercase{\def~}{\discretionary{\hbox{\char`\?}}{\Wrappedafterbreak}{\hbox{\char`\?}}}% 
            \lccode`\~`\!\lowercase{\def~}{\discretionary{\hbox{\char`\!}}{\Wrappedafterbreak}{\hbox{\char`\!}}}% 
            \lccode`\~`\/\lowercase{\def~}{\discretionary{\hbox{\char`\/}}{\Wrappedafterbreak}{\hbox{\char`\/}}}% 
            \catcode`\.\active
            \catcode`\,\active 
            \catcode`\;\active
            \catcode`\:\active
            \catcode`\?\active
            \catcode`\!\active
            \catcode`\/\active 
            \lccode`\~`\~ 	
        }
    \makeatother

    \let\OriginalVerbatim=\Verbatim
    \makeatletter
    \renewcommand{\Verbatim}[1][1]{%
        %\parskip\z@skip
        \sbox\Wrappedcontinuationbox {\Wrappedcontinuationsymbol}%
        \sbox\Wrappedvisiblespacebox {\FV@SetupFont\Wrappedvisiblespace}%
        \def\FancyVerbFormatLine ##1{\hsize\linewidth
            \vtop{\raggedright\hyphenpenalty\z@\exhyphenpenalty\z@
                \doublehyphendemerits\z@\finalhyphendemerits\z@
                \strut ##1\strut}%
        }%
        % If the linebreak is at a space, the latter will be displayed as visible
        % space at end of first line, and a continuation symbol starts next line.
        % Stretch/shrink are however usually zero for typewriter font.
        \def\FV@Space {%
            \nobreak\hskip\z@ plus\fontdimen3\font minus\fontdimen4\font
            \discretionary{\copy\Wrappedvisiblespacebox}{\Wrappedafterbreak}
            {\kern\fontdimen2\font}%
        }%
        
        % Allow breaks at special characters using \PYG... macros.
        \Wrappedbreaksatspecials
        % Breaks at punctuation characters . , ; ? ! and / need catcode=\active 	
        \OriginalVerbatim[#1,codes*=\Wrappedbreaksatpunct]%
    }
    \makeatother

    % Exact colors from NB
    \definecolor{incolor}{HTML}{303F9F}
    \definecolor{outcolor}{HTML}{D84315}
    \definecolor{cellborder}{HTML}{CFCFCF}
    \definecolor{cellbackground}{HTML}{F7F7F7}
    
    % prompt
    \makeatletter
    \newcommand{\boxspacing}{\kern\kvtcb@left@rule\kern\kvtcb@boxsep}
    \makeatother
    \newcommand{\prompt}[4]{
        \ttfamily\llap{{\color{#2}[#3]:\hspace{3pt}#4}}\vspace{-\baselineskip}
    }
    

    
\setlength\headheight{30pt}
\setcounter{secnumdepth}{0} % Turns off numbering for sections

    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    \geometry{a4paper,tmargin=3cm,bmargin=2cm,lmargin=1cm,rmargin=1cm}\fancyhead[L]{Thème à définir}\fancyhead[L]{\adjustimage{height=1cm, valign=m}{/home/bouscadilla/Documents/Code/nbconvert/template/latex/pdf_solution/papier_eleve_ico_langage}\ttfamily\scshape Langage}\fancyhead[C]{\bfseries\MakeUppercase{2-1---Modularité}}\fancyhead[C]{\bfseries\MakeUppercase{2 --- Modularité}}\fancyhead[R]{\monthyeardate\today}

    \fancyfoot[C]{\thepage}
    % #TODO ajouter les pages totales

    \pagestyle{fancy}
    


\begin{document}
    
    \title{2 --- Modularité}
% \maketitle

    
    

    
    \hypertarget{chap.-2-modularituxe9-pa.dilla.fr10}{%
\section[Chap. 2 --- Modularité
(\href{https://pa.dilla.fr/10}{pa.dilla.fr/10} )]{\texorpdfstring{Chap.
2 --- Modularité (\href{https://pa.dilla.fr/10}{pa.dilla.fr/10}
\protect\includegraphics{res/qr-td.png})}{Chap. 2 --- Modularité (pa.dilla.fr/10 )}}\label{chap.-2-modularituxe9-pa.dilla.fr10}}

    \hypertarget{un-exemple-le-paradoxe-des-anniversaires}{%
\subsection{1.1 --- Un exemple : le paradoxe des
anniversaires}\label{un-exemple-le-paradoxe-des-anniversaires}}
\begin{exemple}
        {\scriptsize
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Programme 1 \PYZhy{}\PYZhy{} https://pa.dilla.fr/11}
\PY{k}{def} \PY{n+nf}{contient\PYZus{}doublon}\PY{p}{(}\PY{n}{t}\PY{p}{)}\PY{p}{:}
    \PY{l+s+sd}{\PYZdq{}\PYZdq{}\PYZdq{}le tableau t contient\PYZhy{}il un doublon ?\PYZdq{}\PYZdq{}\PYZdq{}}
    \PY{n}{s} \PY{o}{=} \PY{n+nb}{set}\PY{p}{(}\PY{p}{)}
    \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n}{t}\PY{p}{:}
        \PY{k}{if} \PY{n}{x} \PY{o+ow}{in} \PY{n}{s}\PY{p}{:}
            \PY{k}{return} \PY{k+kc}{True}
        \PY{n}{s}\PY{o}{.}\PY{n}{add}\PY{p}{(}\PY{n}{x}\PY{p}{)}
    \PY{k}{return} \PY{k+kc}{False}
\end{Verbatim}
\end{tcolorbox}
    }

        \end{exemple}\begin{exemple}
        {\scriptsize
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Programme 2 \PYZhy{}\PYZhy{} https://pa.dilla.fr/12}
\PY{k}{def} \PY{n+nf}{contient\PYZus{}doublon}\PY{p}{(}\PY{n}{t}\PY{p}{)}\PY{p}{:}
    \PY{l+s+sd}{\PYZdq{}\PYZdq{}\PYZdq{}le tableau t contient\PYZhy{}il un doublon ?\PYZdq{}\PYZdq{}\PYZdq{}}
    \PY{n}{s} \PY{o}{=} \PY{p}{[}\PY{p}{]}
    \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n}{t}\PY{p}{:}
        \PY{k}{if} \PY{n}{x} \PY{o+ow}{in} \PY{n}{s}\PY{p}{:}
            \PY{k}{return} \PY{k+kc}{True}
        \PY{n}{s}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{x}\PY{p}{)}
    \PY{k}{return} \PY{k+kc}{False}
\end{Verbatim}
\end{tcolorbox}
    }

        \end{exemple}\begin{exemple}
        {\scriptsize
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Programme 3 \PYZhy{}\PYZhy{} https://pa.dilla.fr/13}
\PY{k}{def} \PY{n+nf}{contient\PYZus{}doublon}\PY{p}{(}\PY{n}{t}\PY{p}{)}\PY{p}{:}
    \PY{l+s+sd}{\PYZdq{}\PYZdq{}\PYZdq{}le tableau t contient\PYZhy{}il un doublon ?\PYZdq{}\PYZdq{}\PYZdq{}}
    \PY{n}{s} \PY{o}{=} \PY{p}{[}\PY{k+kc}{False}\PY{p}{]} \PY{o}{*} \PY{l+m+mi}{366}
    \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n}{t}\PY{p}{:}
        \PY{k}{if} \PY{n}{s}\PY{p}{[}\PY{n}{x}\PY{p}{]}\PY{p}{:}
            \PY{k}{return} \PY{k+kc}{True}
        \PY{n}{s}\PY{p}{[}\PY{n}{x}\PY{p}{]} \PY{o}{=} \PY{k+kc}{True}
    \PY{k}{return} \PY{k+kc}{False}
\end{Verbatim}
\end{tcolorbox}
    }

        \end{exemple}
    \hypertarget{factorisation-du-code}{%
\subsection{1.2 --- Factorisation du code}\label{factorisation-du-code}}

    Les trois programmes précédents se ressemblent beaucoup car ils font la
même chose (mais avec des stratégies complètement différentes) et tous
les trois ont la même structure :

\begin{itemize}
\tightlist
\item
  \texttt{s} représente d'une manière ou d'une autre un ensemble de
  dates qu'il faut \emph{créer}.
\item
  Il faut vérifier si \texttt{s} \emph{contient} l'élément \texttt{x}.
\item
  Il faut être capable d'\emph{ajouter} l'élément \texttt{x} à
  \texttt{s} si besoin.
\end{itemize}

Ce qui donne, en délégant ces trois aspects aux fonctions
\texttt{cree()}, \texttt{contient()} et \texttt{ajoute()} :

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ contient\_doublon(t):}
    \CommentTok{"""le tableau t contient{-}il un doublon ?"""}
\NormalTok{    s }\OperatorTok{=}\NormalTok{ cree()}
    \ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ t:}
        \ControlFlowTok{if}\NormalTok{ contient(s,x):}
            \ControlFlowTok{return} \VariableTok{True}
\NormalTok{        ajoute(s,x)}
    \ControlFlowTok{return} \VariableTok{False}
\end{Highlighting}
\end{Shaded}
\begin{remarque}
    Cette factorisation du code a de nombreux avantages :

\begin{itemize}
\tightlist
\item
  pour \textbf{changer le mode de représentation} des dates, il ne faut
  plus changer \texttt{contient\_doublon()}
\item
  l'ensemble de dates peut être \textbf{réutilisés} dans d'autres
  programmes
\item
  il y a \textbf{séparation} entre le programme qui utilise les dates et
  les programmes qui définissent comment sont programmées en interne ces
  dates.
\end{itemize}

Ces trois fonctions représentent l'\textbf{interface} entre le programme
qui utilise l'ensemble de dates \textbf{et} les programmes qui
définissent d'une façon ou d'une autre cet ensemble.

        \end{remarque}
    \hypertarget{modules}{%
\subsection{2.1 --- Modules}\label{modules}}

    Une des clés du développement à grande échelle consiste à séparer
proprement les différentes parties d'un programme.
\begin{exemple}
    Par exemple on peut séparer la définition d'une structure de données
(comme l'ensemble de dates) et son utilisation.

On peut aussi séparer la partie interface graphique d'une application de
sa partie logique qui en constitue le cœur.

        \end{exemple}\begin{retenir}
    Chaque morceau de code peut être placé dans un fichier différent appelé
\textbf{module}.

Pour importer les fonctions définies dans un module et les utiliser, il
faut utiliser le mot clé \texttt{import}

        \end{retenir}\begin{exemple}
    Par exemple, pour importer le module permettant de gérer les valeurs
aléatoires, on importe \texttt{random} grâce à l'instruction
\texttt{import\ random}. Auquel cas, pour utiliser la fonction
\texttt{randint()} du module, il faut écrire \texttt{random.randint()}.
Mais sous cette forme, cette façon d'importer est à éviter car ce sont
\emph{toutes} les fonctions du modules qui sont importées.

Il est préférable de n'importer que la ou les fonctions utiles. Par
exemple \texttt{from\ random\ import\ randint} ne va importer que la
fonction \texttt{randint(a,b)} qui permet de choisir aléatoirement un
nombre entier compris entre \texttt{a} et \texttt{b} inclus.

        \end{exemple}\begin{exemple}
    Par exemple, pour créer son propre module, il suffit de sauvegarder dans
un fichier \texttt{monModule.py} les fonctions.

Pour importer les fonctionnalités d'un module, il faut que le fichier
\texttt{monModule.py} soit dans le même répertoire puis alors il suffit
d'utiliser le mot clé \texttt{import} en écrivant :
\texttt{from\ monModule\ import\ ...}.

        \end{exemple}\begin{exemple}
    Par exemple, les fonctions \texttt{cree()}, \texttt{ajoute()} et
\texttt{contient()} peuvent être sauvegarder dans le fichier
\texttt{dates.py}.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ cree():}
    \ControlFlowTok{return}\NormalTok{ [}\VariableTok{False}\NormalTok{] }\OperatorTok{*} \DecValTok{366}

\KeywordTok{def}\NormalTok{ contient(s,x):}
    \ControlFlowTok{return}\NormalTok{ s[x]}

\KeywordTok{def}\NormalTok{ ajoute(s,x):}
\NormalTok{    s[x] }\OperatorTok{=} \VariableTok{True}
\end{Highlighting}
\end{Shaded}

Ensuite, si l'on souhaite utiliser notre ensemble de date dans un
programme, il suffit d'écrire
\texttt{from\ date\ import\ cree,\ ajoute,\ contient} en ayant
préalablement placé le fichier \texttt{date.py} dans le même répertoire
que le fichier de travail \texttt{anniversaire.py} :

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ dates }\ImportTok{import}\NormalTok{ cree, contient, ajoute}
\KeywordTok{def}\NormalTok{ contient\_doublon(t):}
    \CommentTok{"""le tableau t contient{-}il un doublon ?"""}
\NormalTok{    s }\OperatorTok{=}\NormalTok{ cree()}
    \ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ t:}
        \ControlFlowTok{if}\NormalTok{ contient(s,x):}
            \ControlFlowTok{return} \VariableTok{True}
\NormalTok{        ajoute(s,x)}
    \ControlFlowTok{return} \VariableTok{False}
\end{Highlighting}
\end{Shaded}

        \end{exemple}\begin{eleve}
    Après avoir écrit votre module \texttt{date.py}, \textbf{écrire} un
programme permettant de savoir combien d'élève il faut en moyenne dans
une école pour qu'un anniversaire soit fêté chaque jour.

Pour cela, tirer au hasard des dates et les stocker dans un ensemble
jusqu'à ce que toutes les dates aient été obtenues au moins une fois.

Répéter cette expérience 1000 fois et afficher une valeur moyenne.
        
        \end{eleve}\begin{reponse}
        {\scriptsize
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{from} \PY{n+nn}{dates} \PY{k+kn}{import} \PY{n}{cree}\PY{p}{,} \PY{n}{contient}\PY{p}{,} \PY{n}{ajoute}
\PY{k+kn}{from} \PY{n+nn}{random} \PY{k+kn}{import} \PY{n}{randint}

\PY{k}{def} \PY{n+nf}{fete\PYZus{}continue}\PY{p}{(}\PY{p}{)}\PY{p}{:}
    \PY{n}{compteur} \PY{o}{=} \PY{l+m+mi}{0}
    \PY{n}{nombre\PYZus{}dates} \PY{o}{=} \PY{l+m+mi}{0}
    \PY{n}{s} \PY{o}{=} \PY{n}{cree}\PY{p}{(}\PY{p}{)}
    \PY{k}{while} \PY{n}{nombre\PYZus{}dates} \PY{o}{\PYZlt{}} \PY{l+m+mi}{365}\PY{p}{:}
        \PY{n}{compteur} \PY{o}{+}\PY{o}{=} \PY{l+m+mi}{1}
        \PY{n}{x} \PY{o}{=} \PY{n}{randint}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{365}\PY{p}{)}
        \PY{k}{if} \PY{o+ow}{not} \PY{n}{contient}\PY{p}{(}\PY{n}{s}\PY{p}{,}\PY{n}{x}\PY{p}{)}\PY{p}{:}
            \PY{n}{nombre\PYZus{}dates} \PY{o}{+}\PY{o}{=} \PY{l+m+mi}{1}
            \PY{n}{ajoute}\PY{p}{(}\PY{n}{s}\PY{p}{,}\PY{n}{x}\PY{p}{)}
    \PY{k}{return} \PY{n}{compteur}

\PY{n}{n} \PY{o}{=} \PY{l+m+mi}{0}
\PY{k}{for} \PY{n}{\PYZus{}} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1000}\PY{p}{)}\PY{p}{:}
    \PY{n}{n} \PY{o}{+}\PY{o}{=} \PY{n}{fete\PYZus{}continue}\PY{p}{(}\PY{p}{)}

\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{En moyenne}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{n}\PY{o}{/}\PY{l+m+mi}{1000}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{élèves}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}
    }

        \end{reponse}
    \hypertarget{interfaces}{%
\subsection{2.2 --- Interfaces}\label{interfaces}}
\begin{retenir}
    Pour chaque module, on distingue :

\begin{itemize}
\tightlist
\item
  son \textbf{implémentation} : c'est-à-dire le code lui même et
\item
  son \textbf{interface}, consistant en une énumération des fonctions
  définies dans le module qui sont destinées à être utilisées dans la
  réalisation d'autres modules, appelés \emph{clients}.
\end{itemize}

        \end{retenir}
    L'interface doit expliciter ce qu'un utilisateur a besoin de connaître
des fonctions proposées : \emph{comment} et \emph{pourquoi} les
utiliser.

L'objectif est que :

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ces fonctions soient suffisantes pour permettre à un utilisateur de
  faire appel aux fonctionnalités du module et
\item
  que ces fonctions soient utilisées sans avoir besoin d'aller consulter
  le code du module.
\end{enumerate}

Pour chaque fonction il faut :

\begin{itemize}
\tightlist
\item
  un nom
\item
  la liste des paramètres
\item
  sa spécification, c'est-à-dire les conditions auxquelles la fonction
  peut être appliquée et les résultats à attendre.
\end{itemize}
\begin{remarque}
    La documentation de l'interface peut être vue comme un \textbf{contrat}
entre l'auteur du module et ses utilisateurs.

C'est mieux si le nombre de choses à lire est limité, facile à
comprendre et à mémoriser.

        \end{remarque}\begin{exemple}
    Par exemple, voici l'interface de l'ensemble de dates.

\begin{longtable}[]{@{}ll@{}}
\toprule
\begin{minipage}[b]{0.47\columnwidth}\raggedright
fonction\strut
\end{minipage} & \begin{minipage}[b]{0.47\columnwidth}\raggedright
description\strut
\end{minipage}\tabularnewline
\midrule
\endhead
\begin{minipage}[t]{0.47\columnwidth}\raggedright
\texttt{cree()}\strut
\end{minipage} & \begin{minipage}[t]{0.47\columnwidth}\raggedright
crée et renvoie un ensemble de dates vide\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.47\columnwidth}\raggedright
\texttt{contient(s,x)}\strut
\end{minipage} & \begin{minipage}[t]{0.47\columnwidth}\raggedright
renvoie \texttt{True} si et seulement si l'ensemble \texttt{s} contient
la date \texttt{x}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.47\columnwidth}\raggedright
\texttt{ajoute(s,x)}\strut
\end{minipage} & \begin{minipage}[t]{0.47\columnwidth}\raggedright
ajoute la date \texttt{x} à l'ensemble \texttt{s}\strut
\end{minipage}\tabularnewline
\bottomrule
\end{longtable}

        \end{exemple}
    \hypertarget{encapsulation}{%
\subsection{2.3 --- Encapsulation}\label{encapsulation}}

    Comme l'auteur d'un module est libre de s'y prendre comme il le souhaite
pour respecter l'interface, il peut donc utiliser toute une série de
fonctions ou d'objets annexes. Ces éléments \emph{internes} ne doivent
pas être utilisés par les modules clients.
\begin{retenir}
    Ces éléments \emph{hors interface} sont qualifiés de \textbf{privés} et
on parle d'\textbf{encapsulation} pour dire qu'ils sont enfermés et que
l'utilisateur n'a pas a connaître le contenu.

        \end{retenir}\begin{exemple}
    En Python, pour indiquer que certains éléments (variables, fonctions)
sont privés, on fait précéder leur nom par le symbole \texttt{\_}. Cette
écriture n'est une \emph{convention} qu'il vaut mieux respecter. Mais
rien n'empêche l'accès aux éléments privés d'un module.

D'autres langages mieux adaptés aux projets à grande échelle
introduisent un contrôle stricte de l'encapsulation.

        \end{exemple}
    \hypertarget{les-exceptions}{%
\subsection{3.1 --- Les exceptions}\label{les-exceptions}}

    Selon l'implémentation d'un module, une mauvaise utilisation des
fonctions de l'interface risque d'engendre des erreurs ou des effets qui
ne peuvent pas être compris et anticipés facilement. Il faudrait alors
que l'utilisateur étudie le code du module ce qui contredit le principe
de l'encapsulation.

Une bonne pratique est de renvoyer à l'utilisateur des \textbf{erreurs
explicites} et de pratiquer une \textbf{programmation defensive}.
\begin{retenir}
    Lorsqu'un programme s'interrompt à cause d'une \emph{erreur}, il affiche
des messages variés. En programmation, ces \emph{erreurs} sont appelées
des \textbf{exceptions}.

        \end{retenir}
    Lorsqu'une exception est levée (c'est-à-dire détectée par l'interprète
Python), l'exécution du programme s'interrompt \textbf{sauf si} une
prise en charge spécifique a été prévue par le développeur.
\begin{exemple}
    Par exemple, voici les exceptions classiques en Python :

\begin{longtable}[]{@{}ll@{}}
\toprule
exception & contexte\tabularnewline
\midrule
\endhead
\texttt{NameError} & accès à une variable inexistante\tabularnewline
\texttt{IndexError} & accès à un indice invalide dans un
tableau\tabularnewline
\texttt{KeyError} & accès à une clé inexistante d'un
dictionnaire\tabularnewline
\texttt{ZeroDivisionError} & division par zéro\tabularnewline
\texttt{TypeError} & opération appliquée à des valeurs
incompatibles\tabularnewline
\bottomrule
\end{longtable}

        \end{exemple}\begin{eleve}
    Tester le code ci-dessous et indiquer le nome de l'\textbf{exception}
levée.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{t }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{14}\NormalTok{,}\DecValTok{42}\NormalTok{,}\DecValTok{132}\NormalTok{]}
\BuiltInTok{print}\NormalTok{ (t[}\DecValTok{12}\NormalTok{])}
\end{Highlighting}
\end{Shaded}
        
        \end{eleve}\begin{reponse}
    Exception \texttt{IndexError} car l'indice 12 n'existe pas dans le
tableau. Il y a 7 valeurs donc les indices appartiennent ici à 0..6.

        \end{reponse}
    \hypertarget{signaler-un-probluxe8me-avec-un-exception}{%
\subsection{3.2 --- Signaler un problème avec un
exception}\label{signaler-un-probluxe8me-avec-un-exception}}
\begin{retenir}
    Il est possible de lever manuellement toutes ces exceptions en faisant
suivre le mot clé \texttt{raise} du nom de l'exception, lui même suivi
d'une chaîne de caractère donnant l'information sur l'erreur signalée.

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{raise} \PreprocessorTok{IndexError}\NormalTok{(}\StringTok{\textquotesingle{}Indice trop grand\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

        \end{retenir}\begin{eleve}
    \textbf{Définir} une fonction \texttt{ecrit(t,i,v)} qui affecte la
valeur \texttt{v} à l'emplacement \texttt{t{[}i{]}} d'un tableau
\textbf{et} qui lève une exception si l'indice est négatif.

\textbf{Pourquoi} n'y a-t-il pas besoin de l'instruction \texttt{else}?
        
        \end{eleve}\begin{reponse}
        {\scriptsize
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k}{def} \PY{n+nf}{ecrit}\PY{p}{(}\PY{n}{t}\PY{p}{,}\PY{n}{i}\PY{p}{,}\PY{n}{v}\PY{p}{)}\PY{p}{:}
    \PY{k}{if} \PY{n}{i} \PY{o}{\PYZlt{}} \PY{l+m+mi}{0}\PY{p}{:}
        \PY{k}{raise} \PY{n+ne}{IndexError}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Indice négatif}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
    \PY{n}{t}\PY{p}{[}\PY{n}{i}\PY{p}{]} \PY{o}{=} \PY{n}{v}
\end{Verbatim}
\end{tcolorbox}
    }

        \end{reponse}\begin{eleve}
    Dans le module \texttt{date}, \textbf{modifier} la fonction
\texttt{ajoute} afin de lever une exception si la date n'est pas dans
l'intervalle 1..365.

\textbf{Justifier} le type d'exception choisi.
        
        \end{eleve}\begin{reponse}
        {\scriptsize
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k}{def} \PY{n+nf}{ajoute}\PY{p}{(}\PY{n}{s}\PY{p}{,}\PY{n}{x}\PY{p}{)}\PY{p}{:}
    \PY{k}{if} \PY{n}{x} \PY{o}{\PYZlt{}} \PY{l+m+mi}{1} \PY{o+ow}{or} \PY{n}{x} \PY{o}{\PYZgt{}} \PY{l+m+mi}{365}\PY{p}{:}
        \PY{k}{raise} \PY{n+ne}{ValueError}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{date}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n+nb}{str}\PY{p}{(}\PY{n}{x}\PY{p}{)}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{invalide}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
    \PY{n}{s}\PY{p}{[}\PY{n}{x}\PY{p}{]} \PY{o}{=} \PY{k+kc}{True}
\end{Verbatim}
\end{tcolorbox}
    }

        \end{reponse}
    \hypertarget{rattraper-une-exception}{%
\subsection{3.3 --- Rattraper une
exception}\label{rattraper-une-exception}}

    Si des exceptions sont prévisibles et correspondent à des situations
connues, il est parfois préférable de ne pas interrompre le programme.

Par exemple en demandant à un utilisateur une date, il est tout à fait
possible qu'il ne saisisse pas un nombre entier.
\begin{eleve}
    \textbf{Relever} l'exception levée lorsque l'utilisateur ne saisit pas
un nombre entier lors de l'exécution du code ci-dessous

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=} \BuiltInTok{int}\NormalTok{(}\BuiltInTok{input}\NormalTok{(}\StringTok{"Entrer une date"}\NormalTok{))}
\end{Highlighting}
\end{Shaded}
        
        \end{eleve}\begin{reponse}
    La fonction \texttt{int()} lève une exception \texttt{ValueError}.

        \end{reponse}\begin{retenir}
    Pour rattraper une exception, on va utiliser les mots-clés \texttt{try}
et \texttt{except}.

        \end{retenir}\begin{exemple}
    Pour rattraper une exception \texttt{ValueError}, on va utiliser le mot
clé \texttt{try} suivi du symbole \texttt{:} et d'un \emph{premier
bloc}. Ensuite, le mot-clé \texttt{except} suivi du nom de l'exception
et du symbole \texttt{:} précède un \emph{deuxième bloc} de code.

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{try}\NormalTok{:}
\NormalTok{    x }\OperatorTok{=} \BuiltInTok{int}\NormalTok{(}\BuiltInTok{input}\NormalTok{(}\StringTok{"Entrer une date"}\NormalTok{))}
\ControlFlowTok{except} \PreprocessorTok{ValueError}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Prière de saisir un entier valide"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

        \end{exemple}
    Le premier bloc est le bloc \emph{normal}. Si son exécution s'achève
normalement (sans lever d'exception) le second bloc est ignoré.

Le second bloc est le bloc \emph{alternatif}. Si une exception est levée
dans le bloc normal, alors l'exception est comparée avec le nom précisé
à la ligne \texttt{except}. Si les noms correspondent, l'exception est
\textbf{rattrapée} et le bloc alternatif est exécuté \textbf{avant} de
passer à la suite. Sinon, le programme s'interrompt (sauf si le tout est
inclu dans une autre construction \texttt{try}/\texttt{except}).
\begin{eleve}
    \textbf{Proposer} un code demandant à l'utilisateur une date à
l'utilisateur tant que la date saisie est invalide.
        
        \end{eleve}\begin{reponse}
        {\scriptsize
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k}{while} \PY{k+kc}{True}\PY{p}{:}
    \PY{k}{try}\PY{p}{:}
        \PY{n}{x} \PY{o}{=} \PY{n+nb}{int}\PY{p}{(}\PY{n+nb}{input}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Saisir une date}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{)}
        \PY{k}{break}
    \PY{k}{except} \PY{n+ne}{ValueError}\PY{p}{:}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Il faut saisir un nombre entier entre 1 et 365}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
    
\end{Verbatim}
\end{tcolorbox}
    }

        \end{reponse}\begin{retenir}
    \hypertarget{uxe0-retenir}{%
\subsection{À retenir}\label{uxe0-retenir}}

Un grand programme est décomposé en plusieurs \textbf{modules}, dont
chacun est dédié à la réalisation d'une \textbf{tâche précise}.
L'\textbf{interface} d'un module décrit l'ensemble des fonctions
offertes par ce module.

Avec le principe d'\textbf{encapsulation} :

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  il suffit de connaître l'interface pour utiliser convenablement un
  module,
\item
  le développeur du module possède un cadre pour modifier, corriger,
  améliorer son programme sans nuire aux autres programmes utilisant ce
  module.
\end{enumerate}

On complète l'encapsulation d'un module en gérant explicitement à l'aide
d'\textbf{exceptions} les utilisations non conformes de son interface.

        \end{retenir}
    \hypertarget{applications}{%
\subsection{4 --- Applications}\label{applications}}

    Deux applications directes du cours.
\begin{eleve}
    \textbf{Réaliser} un module réalisant l'interface du cours suivant la
stratégie du programme 1.
        
        \end{eleve}\begin{eleve}
    \textbf{Réaliser} un module réalisant l'interface du cours suivant la
stratégie du programme 2.
        
        \end{eleve}
    Dans l'exercice suivant, tu vas tenter de réaliser toi-même des
fonctions bien pratiques sur les tableaux\ldots{}
\begin{eleve}
    Sans utiliser les opérations \texttt{+} et \texttt{t{[}i:j{]}},
\textbf{écrire} un module réalisant l'interface suivante :

\begin{longtable}[]{@{}ll@{}}
\toprule
\begin{minipage}[b]{0.47\columnwidth}\raggedright
fonction\strut
\end{minipage} & \begin{minipage}[b]{0.47\columnwidth}\raggedright
description\strut
\end{minipage}\tabularnewline
\midrule
\endhead
\begin{minipage}[t]{0.47\columnwidth}\raggedright
\texttt{tranche(t,i,j)}\strut
\end{minipage} & \begin{minipage}[t]{0.47\columnwidth}\raggedright
renvoie un nouveau tableau contenant les éléments de \texttt{t} de
l'indice \texttt{i} inclus à l'indice \texttt{j} exclu (et le tableau
vide si \texttt{j} \(\leq\) \texttt{i})\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.47\columnwidth}\raggedright
\texttt{concatenation(t1,t2)}\strut
\end{minipage} & \begin{minipage}[t]{0.47\columnwidth}\raggedright
renvoie un nouveau tableau contenant, dans l'ordre, les éléments de
\texttt{t1} puis les éléments de \texttt{t2}\strut
\end{minipage}\tabularnewline
\bottomrule
\end{longtable}

Attention, il ne faut pas que ces fonctions modifient les tableaux
passés en paramètres.
        
        \end{eleve}
    Les tableaux de Python sont redimentionnables : leurs nombres d'éléments
peut augmenter au fil du temps (par exemple avec des opérations commme
\texttt{append()}). L'activité suivante te propose de réaliser une
interface de tableau redimentionnable, mais \emph{sans utiliser les
capacités natives des tableaux Python} (sinon c'est pas drôle et tu
n'apprendras pas grand chose\ldots).

    Voici l'interface minimale pour une structure de tableau
redimensionnable :

\begin{longtable}[]{@{}ll@{}}
\toprule
\begin{minipage}[b]{0.47\columnwidth}\raggedright
fonction\strut
\end{minipage} & \begin{minipage}[b]{0.47\columnwidth}\raggedright
description\strut
\end{minipage}\tabularnewline
\midrule
\endhead
\begin{minipage}[t]{0.47\columnwidth}\raggedright
\texttt{cree()}\strut
\end{minipage} & \begin{minipage}[t]{0.47\columnwidth}\raggedright
crée et renvoie un tableau vide (équivalent à \texttt{{[}{]}})\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.47\columnwidth}\raggedright
\texttt{lit(tr,i)}\strut
\end{minipage} & \begin{minipage}[t]{0.47\columnwidth}\raggedright
renvoie l'élément de \texttt{tr} à l'indice \texttt{i} (équivalent à
\texttt{tr{[}i{]}})\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.47\columnwidth}\raggedright
\texttt{ecrit(tr,i,x)}\strut
\end{minipage} & \begin{minipage}[t]{0.47\columnwidth}\raggedright
place la valeur \texttt{x} dans la case d'indice \texttt{i} du tableau
\texttt{tr} (équivalent à \texttt{tr{[}i{]}\ =\ x})\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.47\columnwidth}\raggedright
\texttt{ajoute(tr,x)}\strut
\end{minipage} & \begin{minipage}[t]{0.47\columnwidth}\raggedright
ajoute le nouvel élément \texttt{x} au tableau \texttt{tr}, après ses
éléments actuels (équivalent à \texttt{tr.append(x)})\strut
\end{minipage}\tabularnewline
\bottomrule
\end{longtable}
\begin{eleve}
    On décide de représenter un tableau redimensionnable \texttt{tr} de
\(n\) éléments par un dictionnaire contenant (1) d'une part le nombre
\texttt{\textquotesingle{}n\textquotesingle{}} appelé \emph{taille} et
(2) d'autre part un tableau
\texttt{\textquotesingle{}t\textquotesingle{}} de longueur supérieure ou
égale à \(n\) appelée \emph{capacité}.

Les \(n\) éléments sont stockés dans les cases d'indices \(0\) à
\(n-1\). Les autres cases de \texttt{t} contiennent \texttt{None}.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Écrire} une fonction \texttt{cree()} créant et renvoyant un
  tableau redimensionnable de taille 0 et de capacité 8.
\item
  \textbf{Écrire} les deux fonctions \texttt{lit(tr,i)} et
  \texttt{ecrit(tr,i,x)} en supposant que l'indice \texttt{i} est
  compris entre 0 (inclus) et taille de \texttt{tr} exclue.
\item
  Avant d'écrire la fonction \texttt{ajoute} :

  \begin{enumerate}
  \def\labelenumii{\arabic{enumii}.}
  \tightlist
  \item
    \textbf{Écrire} une fonction \texttt{ajoute\_aux(tr,x)} qui ajoute
    \texttt{x} à la fin du tableau redimensionnable \texttt{tr} en
    supposant que sa capacité est suffisante.
  \item
    \textbf{Écrire} une fonction \texttt{\_double(tr)} qui double la
    capacité du tableau redimensionnable \texttt{tr} en conservant ses
    éléments.
  \item
    \textbf{En déduire} la fonction \texttt{ajoute(tr,x)}. Lorsque le
    tableau redimensionnable ne peut accueillir de nouvel élément, sa
    capacité doit doubler.
  \end{enumerate}
\end{enumerate}
        
        \end{eleve}
    Voici l'interface minimale pour une structure de dictionnaire.

\begin{longtable}[]{@{}ll@{}}
\toprule
\begin{minipage}[b]{0.47\columnwidth}\raggedright
fonction\strut
\end{minipage} & \begin{minipage}[b]{0.47\columnwidth}\raggedright
description\strut
\end{minipage}\tabularnewline
\midrule
\endhead
\begin{minipage}[t]{0.47\columnwidth}\raggedright
\texttt{cree()}\strut
\end{minipage} & \begin{minipage}[t]{0.47\columnwidth}\raggedright
crée et renvoie un dictionnaire vide\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.47\columnwidth}\raggedright
\texttt{cle(d,k)}\strut
\end{minipage} & \begin{minipage}[t]{0.47\columnwidth}\raggedright
renvoie \texttt{True} si et seulement si le dictionnaire \texttt{d}
contient la clé \texttt{k}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.47\columnwidth}\raggedright
\texttt{lit(d,k)}\strut
\end{minipage} & \begin{minipage}[t]{0.47\columnwidth}\raggedright
renvoie la valeur associée à la clé \texttt{k} dans le dictionnaire
\texttt{d}, et \texttt{None} si la clé \texttt{k} n'apparaît pas\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.47\columnwidth}\raggedright
\texttt{ecrit(d,k,v)}\strut
\end{minipage} & \begin{minipage}[t]{0.47\columnwidth}\raggedright
ajoute au dictionnaire \texttt{d} l'association entre la clé \texttt{k}
et la valeur \texttt{v}, en remplaçant une éventuelle association déjà
présente pour \texttt{k}\strut
\end{minipage}\tabularnewline
\bottomrule
\end{longtable}
\begin{eleve}
    On propose de réaliser cette interface de dictionnaire avec un tableau
de couples clé-valeur, en faisant en sorte qu'aucune clé n'apparaisse
deux fois.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{"Écrire} un module réalisant cela.
\item
  Une des quatre fonction de l'interface ne correspond pas exactement à
  l'opération équivalente sur les dictionnaires de Python.
  \textbf{Laquelle} ?
\item
  \textbf{Corriger} la description pour se rapprocher de celle de Python
  et adapter l'implémentation.
\end{enumerate}
        
        \end{eleve}

    % Add a bibliography block to the postdoc
    
    
    
\end{document}
